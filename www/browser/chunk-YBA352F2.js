import"./chunk-BYXBJQAS.js";import{a as X,c as Y}from"./chunk-LCW3VL6C.js";import{A as f,B as C,C as E,Ca as G,D as P,Da as J,E as R,F as l,G as r,Ga as W,H as y,I as w,J as g,K as b,L as U,M as k,N as S,O as V,P as m,Q as F,R as M,S as j,T as z,W as B,i as x,na as O,oa as Q,p,q as u,sa as D,ta as H,u as v,ua as N,v as s,va as K,w as L,wa as q,x as h,xa as A,y as T,ya as $,z as I}from"./chunk-675YSVJL.js";import"./chunk-N3PT3BRI.js";import"./chunk-5TFNS7IN.js";import"./chunk-QKUHOLOF.js";import"./chunk-6DP5AXAB.js";import"./chunk-G3CV3VGG.js";import"./chunk-JX3TYZ34.js";import"./chunk-RUY5SX76.js";import"./chunk-NIOQNOHM.js";import"./chunk-4U6PRYVA.js";import"./chunk-QXT6YJJ4.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as d}from"./chunk-RW4GY4BD.js";var Z=(()=>{let e=class e{constructor(){this.URL="https://teachablemachine.withgoogle.com/models/KkUPKNR_o/",this.classLabels=[]}loadModel(){return d(this,null,function*(){try{let t=this.URL+"model.json",i=this.URL+"metadata.json",c=window.tmImage;this.model=yield c.load(t,i),this.classLabels=this.model.getClassLabels()}catch(t){throw console.error("Error al cargar el modelo:",t),new Error("No se pudo cargar el modelo.")}})}getClassLabels(){return this.classLabels}predict(t){return d(this,null,function*(){if(!this.model)throw new Error("El modelo no est\xE1 cargado.");return yield this.model.predict(t)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ne=["image"];function oe(n,e){if(n&1&&(l(0,"ion-item")(1,"ion-label"),m(2),j(3,"percent"),r()()),n&2){let o=e.$implicit;s(2),M(" ",o==null?null:o.className," : ",z(3,2,o==null?null:o.probability)," ")}}function ae(n,e){if(n&1){let o=w();l(0,"div",12)(1,"ion-button",13),g("click",function(){p(o);let i=b(2);return u(i.predict())}),m(2,"Predecir"),r()(),l(3,"ion-list")(4,"ion-item")(5,"ion-label"),m(6),r()(),P(7,oe,4,4,"ion-item",null,E),r()}if(n&2){let o=b(2);s(6),F("Clases: ",o.classLabels," "),s(),R(o.predictions)}}function re(n,e){if(n&1&&(l(0,"ion-card",6),y(1,"img",11,1),I(3,ae,9,1),r()),n&2){let o=b();s(),f("src",o.imageUrl(),v),s(2),C(o.modelLoaded()?3:-1)}}var _e=(()=>{let e=class e{constructor(t){this.teachablemachine=t,this.imageReady=h(!1),this.imageUrl=h(""),this.predictions=[],this.modelLoaded=h(!1),this.classLabels=[],X({cloudUploadOutline:Y})}onFileSelected(t){let i=t.target;if(i.files&&i.files.length>0){let c=i.files[0],a=new FileReader;a.onload=()=>{this.imageUrl.set(a.result),this.imageReady.set(!0),console.log(a.result)},a.readAsDataURL(c)}}ngOnInit(){return d(this,null,function*(){yield this.teachablemachine.loadModel(),this.classLabels=this.teachablemachine.getClassLabels(),this.modelLoaded.set(!0)})}predict(){return d(this,null,function*(){try{let t=this.imageElement.nativeElement;this.predictions=yield this.teachablemachine.predict(t)}catch(t){console.error(t),alert("Error al realizar la predicci\xF3n.")}})}};e.\u0275fac=function(i){return new(i||e)(L(Z))},e.\u0275cmp=T({type:e,selectors:[["app-tab1"]],viewQuery:function(i,c){if(i&1&&U(ne,5),i&2){let a;k(a=S())&&(c.imageElement=a.first)}},decls:15,vars:3,consts:[["fileInput",""],["image",""],[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"imgHolder"],["type","file","accept","image/*","hidden","",3,"change"],["slot","fixed","vertical","bottom","horizontal","center"],[3,"click"],["name","cloud-upload-outline"],["alt","Imagen seleccionada",3,"src"],[1,"ion-text-center","ion-padding-top","ion-padding-bottom"],["fill","outline","color","success",3,"click"]],template:function(i,c){if(i&1){let a=w();l(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-title"),m(3," Teachable Machine "),r()()(),l(4,"ion-content",3)(5,"ion-header",4)(6,"ion-toolbar")(7,"ion-title",5),m(8,"Teachable Machine"),r()()(),I(9,re,4,2,"ion-card",6),l(10,"input",7,0),g("change",function(_){return p(a),u(c.onFileSelected(_))}),r(),l(12,"ion-fab",8)(13,"ion-fab-button",9),g("click",function(){p(a);let _=V(11);return u(_.click())}),y(14,"ion-icon",10),r()()()}i&2&&(f("translucent",!0),s(4),f("fullscreen",!0),s(5),C(c.imageReady()?9:-1))},dependencies:[K,J,G,D,H,N,W,Q,O,$,B,q,A],styles:["ion-button[_ngcontent-%COMP%]{margin:0 auto}.imgHolder[_ngcontent-%COMP%]{height:100vh;width:100%;justify-content:center;align-items:center}"]});let n=e;return n})();export{_e as Tab1Page};
